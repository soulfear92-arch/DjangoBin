{% extends 'base.html' %}
{% load static %}

{% block title %}{{ pagename }} ‚Äî PythonBin{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col text-center">
            <h1>{{ pagename }}</h1>
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <p class="lead">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, —É–≤–∞–∂–∞–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!</p>
            <p>
                –ù–∞ —ç—Ç–æ–º —Å–∞–π—Ç–µ —Ç—ã —Å–º–æ–∂–µ—à—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≤–æ–∏ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –∫–æ–¥–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è<br>
                –ê —Ç–∞–∫–∂–µ –¥–µ–ª–∏—Ç—å—Å—è –∏–º–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏...
            </p>
            <hr>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-4 offset-4">
            <a href="{% url 'mainapp:add_snippet' %}" class="btn btn-secondary btn-block w-100">
                –î–æ–±–∞–≤–∏—Ç—å —Å–Ω–∏–ø–ø–µ—Ç
            </a>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col">
            <hr>
            <h4 class="mb-3">–ù–∞–π—Ç–∏ —Å–Ω–∏–ø–ø–µ—Ç –ø–æ –Ω–æ–º–µ—Ä—É</h4>
            <form id="view_snippet_form">
                <div class="input-group input-group-lg">
                    <span class="input-group-text">üî¢</span>
                    <input type="number" 
                           class="form-control" 
                           id="snippet_id"
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å–Ω–∏–ø–ø–µ—Ç–∞"
                           min="1"
                           required>
                    <button type="submit" class="btn btn-info">
                        –ù–∞–π—Ç–∏
                    </button>
                </div>
            </form>
            <script>
            document.getElementById('view_snippet_form').addEventListener('submit', function(e) {
                e.preventDefault();
                const snippetId = document.getElementById('snippet_id').value.trim();
                if (snippetId && parseInt(snippetId) > 0) {
                    window.location.href = `/snippets/${snippetId}/`;
                } else {
                    alert('‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Å–Ω–∏–ø–ø–µ—Ç–∞ (—á–∏—Å–ª–æ –±–æ–ª—å—à–µ 0)');
                    document.getElementById('snippet_id').focus();
                }
            });
            <!-- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ -->
            document.getElementById('snippet_id').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    document.querySelector('#view_snippet_form button[type="submit"]').click();
                }
            });
            </script>
            <small class="text-muted d-block mt-2">
                üí° –í–≤–µ–¥–∏—Ç–µ ID —Å–Ω–∏–ø–ø–µ—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞–π—Ç–∏" –∏–ª–∏ Enter
            </small>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col text-center">
            <a href="{% url 'mainapp:snippets_list' %}" class="btn btn-outline-info">
                üëÅÔ∏è –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å–Ω–∏–ø–ø–µ—Ç—ã
            </a>
            {% if user.is_authenticated %}
                <a href="{% url 'mainapp:my_snippets' %}" class="btn btn-outline-secondary ms-2">
                    üìã –ú–æ–∏ —Å–Ω–∏–ø–ø–µ—Ç—ã
                </a>
            {% endif %}
        </div>
    </div>
    
</div>
{% endblock %}