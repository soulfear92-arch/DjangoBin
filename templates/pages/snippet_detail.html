{% extends 'base.html' %}
{% load static %}
{% load snippet_filters %}  {# ğŸ”¥ Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ½Ğ°ÑˆĞ¸ ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ #}

{% block title %}{{ snippet.name }} - PythonBin{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>{{ pagename }}</h2>
        {% if user.is_authenticated and snippet.author == user %}
            <div class="btn-group">
                <a href="{% url 'mainapp:snippet_edit' snippet_id=snippet.id %}" 
                   class="btn btn-outline-primary btn-sm">
                    âœï¸ Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ
                </a>
                <a href="{% url 'mainapp:snippet_delete' snippet_id=snippet.id %}" 
                   class="btn btn-outline-danger btn-sm">
                    ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ
                </a>
            </div>
        {% endif %}
    </div>
    <div class="text-muted small mb-3">
        <span class="badge bg-secondary">{{ snippet.get_lang_display }}</span>
        <span class="ms-2">ğŸ‘¤ {{ snippet.author.username }}</span>
        <span class="ms-2">ğŸ“… {{ snippet.creation_date|date:"d.m.Y H:i" }}</span>
        {% if not snippet.is_public %}
            <span class="ms-2 badge bg-warning text-dark">ğŸ”’ Ğ§Ğ°ÑÑ‚Ğ½Ñ‹Ğ¹</span>
        {% else %}
            <span class="ms-2 badge bg-success">ğŸŒ ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹</span>
        {% endif %}
    </div>
    <div class="card">
        <div class="card-header bg-dark text-white">
            <code>{{ snippet.name }}</code>
        </div>
        <div class="card-body p-0">
            <pre class="p-3 mb-0 bg-light">
                <code>{{ snippet.code|format_code }}</code>  {# ğŸ”¥ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ ÑĞºÑ€Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ + \n â†’ <br> #}
            </pre>
        </div>
    </div>
    <div class="mt-4">
        <a href="{% url 'mainapp:my_snippets' %}" class="btn btn-outline-secondary">
            â† Ğš Ğ¼Ğ¾Ğ¸Ğ¼ ÑĞ½Ğ¸Ğ¿Ğ¿ĞµÑ‚Ğ°Ğ¼
        </a>
        <a href="{% url 'mainapp:snippets_list' %}" class="btn btn-outline-info">
            ğŸ‘ï¸ Ğ’ÑĞµ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ ÑĞ½Ğ¸Ğ¿Ğ¿ĞµÑ‚Ñ‹
        </a>
    </div>
    
</div>
{% endblock %}